# AnwaltsAI Backend Environment Configuration
# Copy this file to .env and update the values

# ============ DATABASE CONFIGURATION ============
# PostgreSQL database settings
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/anwalts_ai
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=anwalts_ai

# ============ REDIS CONFIGURATION ============
# Redis cache settings
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis123
REDIS_DB=0

# ============ JWT CONFIGURATION ============
# JWT secret key - CHANGE THIS IN PRODUCTION!
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production-minimum-256-bits-long
ACCESS_TOKEN_EXPIRE_MINUTES=1440
REFRESH_TOKEN_EXPIRE_DAYS=30

# ============ TOGETHER AI CONFIGURATION ============
# Together AI API settings
TOGETHER_API_KEY=your-together-ai-api-key-here
DEFAULT_AI_MODEL=meta-llama/Llama-2-7b-chat-hf
# Alternative models:
# - meta-llama/Llama-2-13b-chat-hf
# - mistralai/Mistral-7B-Instruct-v0.1
# - NousResearch/Nous-Hermes-2-Mixtral-8x7B-DPO

# ============ SECURITY CONFIGURATION ============
# Authentication and security settings
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# ============ APPLICATION CONFIGURATION ============
# Application environment settings
ENVIRONMENT=development
DEBUG=false
LOG_LEVEL=INFO

# Server configuration
BACKEND_PORT=8000

# ============ CORS CONFIGURATION ============
# Comma-separated list of allowed origins
ALLOWED_ORIGINS=http://localhost:8080,http://127.0.0.1:8080,https://anwalts-ai.com

# ============ RATE LIMITING ============
# Rate limiting settings
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST=10

# ============ EMAIL CONFIGURATION ============
# SMTP settings for email notifications (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=true

# Email addresses
FROM_EMAIL=noreply@anwalts-ai.com
ADMIN_EMAIL=admin@anwalts-ai.com

# ============ FILE UPLOAD CONFIGURATION ============
# File upload settings
MAX_FILE_SIZE_MB=10
UPLOAD_DIR=./uploads
ALLOWED_FILE_TYPES=pdf,doc,docx,txt

# ============ DEVELOPMENT TOOLS ============
# pgAdmin configuration (development only)
PGADMIN_EMAIL=admin@anwalts-ai.com
PGADMIN_PASSWORD=admin123
PGADMIN_PORT=8082

# Redis Commander configuration (development only)
REDIS_COMMANDER_USER=admin
REDIS_COMMANDER_PASSWORD=admin123
REDIS_COMMANDER_PORT=8081

# ============ MONITORING CONFIGURATION ============
# Monitoring and logging (optional)
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_PASSWORD=admin123
FLUENTD_PORT=24224
FLUENTD_UDP_PORT=24224

# ============ NGINX CONFIGURATION ============
# Nginx reverse proxy settings (production)
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ============ SSL CONFIGURATION ============
# SSL certificate settings (production)
SSL_CERT_PATH=/etc/ssl/certs/anwalts-ai.crt
SSL_KEY_PATH=/etc/ssl/private/anwalts-ai.key
SSL_DHPARAM_PATH=/etc/ssl/certs/dhparam.pem

# ============ BACKUP CONFIGURATION ============
# Database backup settings
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=anwalts-ai-backups
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=eu-central-1

# ============ EXTERNAL SERVICES ============
# Third-party service configurations

# Sentry error tracking (optional)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Google Analytics (optional)
GA_TRACKING_ID=GA-XXXXXXXX-X

# Stripe payment processing (optional)
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ============ LOGGING CONFIGURATION ============
# Logging settings
LOG_FORMAT=json
LOG_FILE_PATH=./logs/anwalts_ai.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5

# ============ PERFORMANCE CONFIGURATION ============
# Performance tuning
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
REDIS_MAX_CONNECTIONS=50
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000

# ============ FEATURE FLAGS ============
# Feature toggles
ENABLE_AI_CACHING=true
ENABLE_RATE_LIMITING=true
ENABLE_ANALYTICS=true
ENABLE_EMAIL_NOTIFICATIONS=false
ENABLE_FILE_UPLOADS=true

# ============ LOCALIZATION ============
# Language and locale settings
DEFAULT_LANGUAGE=de
SUPPORTED_LANGUAGES=de,en
TIMEZONE=Europe/Berlin

# ============ CONTENT SECURITY ============
# Content security policy settings
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self' 'unsafe-inline'
CSP_STYLE_SRC='self' 'unsafe-inline'
CSP_IMG_SRC='self' data: https:
CSP_FONT_SRC='self' https://fonts.gstatic.com

# ============ API CONFIGURATION ============
# API settings
API_VERSION=v1
API_PREFIX=/api
MAX_REQUEST_SIZE_MB=10
REQUEST_TIMEOUT_SECONDS=30

# ============ CACHE CONFIGURATION ============
# Cache settings
CACHE_DEFAULT_TTL=3600
CACHE_MAX_MEMORY_MB=512
TEMPLATE_CACHE_TTL=7200
CLAUSE_CACHE_TTL=3600
AI_RESPONSE_CACHE_TTL=7200

# ============ SESSION CONFIGURATION ============
# Session management
SESSION_COOKIE_NAME=anwalts_ai_session
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Strict
SESSION_MAX_AGE=86400